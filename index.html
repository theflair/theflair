<!DOCTYPE html>
<html lang="en">
<head>
<title>Simple PythonTelegramBot</title>
  <link rel="shortcut icon" type="image/x-icon" href="favicon.png" />
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!--link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css"-->
<link href='https://fonts.googleapis.com/css?family=RobotoDraft' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"><style>
html,body,h1,h2,h3,h4,h5 {font-family: "RobotoDraft", "Roboto", sans-serif}
.w3-bar-block .w3-bar-item {padding: 16px}
</style>
<link rel="stylesheet" type="text/css" href="first.css">
<script src="rainbow-custom.min.js"></script>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-7776113451862750",
    enable_page_level_ads: true
  });
</script>  
</head>
<body>

<!-- Side Navigation -->
<nav class="w3-sidebar w3-bar-block w3-collapse w3-white w3-animate-left w3-card" style="z-index:3;width:320px;" id="mySidebar">
  <a href="javascript:void(0)" class="w3-bar-item w3-button w3-border-bottom w3-large"><img src="clogo.png" style="width:60%;"></a>
  <a href="javascript:void(0)" onclick="close_bar()" title="Close Sidemenu" 
  class="w3-bar-item w3-button w3-hide-large w3-large">Close <i class="fa fa-remove"></i></a>
  <!--a href="javascript:void(0)" class="w3-bar-item w3-button w3-dark-grey w3-button w3-hover-black w3-left-align" onclick="document.getElementById('id01').style.display='block'">New Message <i class="w3-padding fa fa-pencil"></i></a-->
  <a id="myBtn" onclick="myFunc('Demo1')" href="javascript:void(0)" class="w3-bar-item w3-button"><i class="fa fa-inbox w3-margin-right"></i>PythonTelegramBot<i class="fa fa-caret-down w3-margin-left"></i></a>
  <div id="Demo1" class="w3-hide w3-animate-left">
    <a href="javascript:void(0)" class="w3-bar-item w3-button w3-border-bottom test w3-hover-light-grey" onclick="openMail('api_token');close_bar();" id="firstTab">
      <div class="w3-container">
        <!--img class="w3-round w3-margin-right" src="/w3images/avatar3.png" style="width:15%;"-->
        <span class="w3-opacity w3-large">How to get your API_TOKEN</span>
        <!--<h6>How to get your API_TOKEN </h6>-->
      </div>
    </a>
     <a href="javascript:void(0)" class="w3-bar-item w3-button w3-border-bottom test w3-hover-light-grey" onclick="openMail('echo_bot');close_bar();">
      <div class="w3-container">
        <!--img class="w3-round w3-margin-right" src="/w3images/avatar5.png" style="width:15%;"-->
        <span class="w3-opacity w3-large">Simple python telegram EchoBot</span>
        
      </div>
    </a>
    <a href="javascript:void(0)" class="w3-bar-item w3-button w3-border-bottom test w3-hover-light-grey" onclick="openMail('host_py_bot');close_bar();">
      <div class="w3-container">
        <!--img class="w3-round w3-margin-right" src="/w3images/avatar2.png" style="width:15%;"-->
        <span class="w3-opacity w3-large">Hosting you PythonTelegramBot</span>
      </div>
    </a>
  </div>
  <!--a href="#" class="w3-bar-item w3-button"><i class="fa fa-paper-plane w3-margin-right"></i>Sent</a>
  <a href="#" class="w3-bar-item w3-button"><i class="fa fa-hourglass-end w3-margin-right"></i>Drafts</a>
  <a href="#" class="w3-bar-item w3-button"><i class="fa fa-trash w3-margin-right"></i>Trash</a-->
</nav>

<!-- Modal that pops up when you click on "New Message" -->
<div id="id01" class="w3-modal" style="z-index:4">
  <div class="w3-modal-content w3-animate-zoom">
    <div class="w3-container w3-padding w3-red">
       <span onclick="document.getElementById('id01').style.display='none'"
       class="w3-button w3-red w3-right w3-xxlarge"><i class="fa fa-remove"></i></span>
      <h2>Send Mail</h2>
    </div>
    <div class="w3-panel">
      <label>To</label>
      <input class="w3-input w3-border w3-margin-bottom" type="text">
      <label>From</label>
      <input class="w3-input w3-border w3-margin-bottom" type="text">
      <label>Subject</label>
      <input class="w3-input w3-border w3-margin-bottom" type="text">
      <input class="w3-input w3-border w3-margin-bottom" style="height:150px" placeholder="What's on your mind?">
      <div class="w3-section">
        <a class="w3-button w3-red" onclick="document.getElementById('id01').style.display='none'">Cancel  <i class="fa fa-remove"></i></a>
        <a class="w3-button pybot-light-grey w3-right" onclick="document.getElementById('id01').style.display='none'">Send  <i class="fa fa-paper-plane"></i></a> 
      </div>    
    </div>
  </div>
</div>

<!-- Overlay effect when opening the side navigation on small screens -->
<div class="w3-overlay w3-hide-large w3-animate-opacity" onclick="close_bar()" style="cursor:pointer" title="Close Sidemenu" id="myOverlay"></div>

<!-- Page content -->
<div class="w3-main" style="margin-left:320px;">
<i class="fa fa-bars w3-button w3-white w3-hide-large w3-xlarge w3-margin-left w3-margin-top" onclick="open_bar()"></i>
<!--a href="javascript:void(0)" class="w3-hide-large w3-red w3-button w3-right w3-margin-top w3-margin-right" onclick="document.getElementById('id01').style.display='block'"><i class="fa fa-pencil"></i></a-->
<div id="api_token" class="w3-container person">
  <br>
  <h1><b>Getting your API_TOKEN</b></h1>
  <div class="instal">
  <p>Search for botfather</p>
  <p>This is the link for the official BotFather is <a href="https://t.me/BotFather">https://t.me/BotFather</a></p><br>
  <img class="w3-round w3-animate-top" src="1.jpg" style="width:30%; border:2px solid black" >
  <img class="w3-round w3-animate-top" src="3.jpg" style="width:30%; border:2px solid black" ><br>
  <!--img class="w3-round w3-animate-top" src="2.jpg" style="width:20%; border:2px solid black"--><br>
  <p>The username is unique, so if the username is take try another one.<br>Remember the API_TOKEN should be secured else your bot can be controlled by others.</p><br>
  </div>
  <a href="javascript:void(0)" class="w3-bar-item w3-button w3-border-bottom test w3-hover-grey" onclick=openMail('echo_bot') style="background-color: black; color: white;padding: 10px 32px;text-align: center;text-decoration: none;display: inline-block;font-size: 16px; position: relative; left: 75%;">Next</a><br><br>
</div>
<div id="echo_bot" class="w3-container person">
  <br>
  <h1 class="req"><b>Requirements for PythonTelegramBot</b></h1>
  <div class="instal">
  <pre>
      <code>pip3 install telebot <br>pip3 install python-telegram-bot</code>
  </pre>
  </div>
  <p>These libraries are used to install the PythonTelegramBot packages.</p>
 <div class="cde">
      <pre>
        <code data-language="python">
#!/usr/bin/python
# This is a simple echo bot using the decorator mechanism.
# It echoes any incoming text messages.

import telebot
          
API_TOKEN = 'Your_API_Token_Here'
          
bot = telebot.TeleBot(API_TOKEN)
          
          
# Handle '/start' and '/help'
@bot.message_handler(commands=['help', 'start'])
def send_welcome(message):
bot.reply_to(message, "\nHi there, I am EchoBot.\nI am here to echo your kind words back to you. Just say anything nice and I'll say the exact same thing to you!\n")
          
          
# Handle all other messages with content_type 'text' (content_types defaults to ['text'])
@bot.message_handler(func=lambda message: True)
def echo_message(message):
bot.reply_to(message, message.text)
                 
bot.polling()
        </code>
      </pre>
  </div>

<p>
  If you don't have a API token for your bot then vist my page to know how to get it.
</p>
<p>
  Now run the code <pre><code>python3 file_name.py </code></pre> in your compiler.
  This is a simple echo bot.
  What ever the message you send to it, it sends you the same message.
</p>
<p>
  *If you want your bot based on commands then below is used for setting the command.
</p>
<pre><code data-language="python"> @bot.message_handler(commands=['help', 'start'])</code></pre>
<p>
 Below this we should write the function that should be executed when the command is sent.
</p>
<a href="javascript:void(0)" class="w3-bar-item w3-button w3-border-bottom test w3-hover-grey" onclick=openMail('api_token') style="background-color: black; color: white;padding: 10px 32px;text-align: center;text-decoration: none;display: inline-block;font-size: 16px; position: relative; left: 10%;">Prev</a>
<a href="javascript:void(0)" class="w3-bar-item w3-button w3-border-bottom test w3-hover-grey" onclick=openMail('host_py_bot') style="background-color: black; color: white;padding: 10px 32px;text-align: center;text-decoration: none;display: inline-block;font-size: 16px; position: relative; left: 75%;">Next</a><br><br>
</div>
<div id="host_py_bot" class="w3-container person">
  <br>
  <h1><b>Requirements for hosting PythonTelegramBot</b></h1>
  <div class="instal">
  <p>For deploying our bot we will use flask library, because for contacting bot we use webhooks method.<br>So to install flask use,</p>
    <pre>
      <code data-language="python">pip3 install flask </code>
    </pre>
  <p>After installing we should change our code a little bit so as to work with flask.
  </p>
  </div>
  <div class="instal">
      <pre>
        <code data-language="python">
server = Flask(__name__)
PORT = int(os.environ.get('PORT', '8443'))
        </code>
      </pre>
  <p>Use the blow code at the end of the application.</p>
      <pre>
        <code data-language="python">
@server.route('/' + API_TOKEN, methods=['POST'])
def getMessage():
    bot.process_new_updates([telebot.types.Update.de_json(request.stream.read().decode("utf-8"))])
    return "!", 200


@server.route("/")
def webhook():
    bot.remove_webhook()
    bot.set_webhook(url='Your_App_Name_Link_Here' + API_TOKEN)
    return "!", 200


if __name__ == "__main__":
server.run(host="0.0.0.0", port=int(os.environ.get('PORT', 5000)))
        </code>
      </pre>
  <p>After this the final code looks like</p>
    <pre>
      <code data-language="python">
#!/usr/bin/python
# This is a simple echo bot using the decorator mechanism.
# It echoes any incoming text messages.

import telebot
from flask import Flask, request
import os
API_TOKEN = 'Your_API_Token_Here'
          
bot = telebot.TeleBot(API_TOKEN)
server = Flask(__name__)
PORT = int(os.environ.get('PORT', '8443'))          
          
# Handle '/start' and '/help'
@bot.message_handler(commands=['help', 'start'])
def send_welcome(message):
bot.reply_to(message, "\nHi there, I am EchoBot.\nI am here to echo your kind words back to you. Just say anything nice and I'll say the exact same thing to you!\n")
          
          
# Handle all other messages with content_type 'text' (content_types defaults to ['text'])
@bot.message_handler(func=lambda message: True)
def echo_message(message):
bot.reply_to(message, message.text)


@server.route('/' + API_TOKEN, methods=['POST'])
def getMessage():
    bot.process_new_updates([telebot.types.Update.de_json(request.stream.read().decode("utf-8"))])
    return "!", 200


@server.route("/")
def webhook():
    bot.remove_webhook()
    bot.set_webhook(url='Your_App_Name_Link_Here' + API_TOKEN)
    return "!", 200


if __name__ == "__main__":
server.run(host="0.0.0.0", port=int(os.environ.get('PORT', 5000)))    
        </code>
      </pre>
  <p>Now, we need the libraries that are used for this bot.
    So to get the librares use,
    <pre>pip3 freeze requirements.txt</pre>
    You can see the libraries in "requirements.txt".
    Don't remove the libraries that you don't know as they are dependent libraries.<br>
    Now we should create a "Procfile" and type this code in that file
    <pre>web: python3 file_name.py</pre>
    Note:Don't change name of "requirements.txt" and "Procfile"('P' is capital).<br>

    Now, open github and create your repository, after that upload your file_name.py,requirements.txt and Procfile to github.<br>
    Now, signup/signin to heroku and Create a new app.<br><br>
    <img class="w3-round w3-animate-top" src="01.png" style="width:50%; height=50% border:2px solid black" ><br><br>
    Now, go to the Deploy section and now connect to github, then after type your repository name and connect it.<br><br>
    <img class="w3-round w3-animate-top" src="04.png" style="width:50%;height=50% border:2px solid black" ><br><br>
    Every thing is done. You are set to go<br>
    Now press come down and press deploy branch.<br>
    After successfull deployment you can use your bot.<br>
    *You can get your app name from settings section in heroku.
  </p>
  </div>
<div class="git_heroku_deploy">
  <p></p>
</div>
<a href="javascript:void(0)" class="w3-bar-item w3-button w3-border-bottom test w3-hover-grey" onclick=openMail('echo_bot') style="background-color: black; color: white;padding: 10px 32px;text-align: center;text-decoration: none;display: inline-block;font-size: 16px; position: relative; left: 10%;">Prev</a><br><br>
</div>

<script>
var openSubTopic = document.getElementById("myBtn");
openSubTopic.click();

function open_bar() {
  document.getElementById("mySidebar").style.display = "block";
  document.getElementById("myOverlay").style.display = "block";
}

function close_bar() {
  document.getElementById("mySidebar").style.display = "none";
  document.getElementById("myOverlay").style.display = "none";
}

function myFunc(id) {
  var x = document.getElementById(id);
  if (x.className.indexOf("w3-show") == -1) {
    x.className += " w3-show"; 
    x.previousElementSibling.className += " w3-red";
  } else { 
    x.className = x.className.replace(" w3-show", "");
    x.previousElementSibling.className = 
    x.previousElementSibling.className.replace(" w3-red", "");
  }
}

openMail("api_token")
function openMail(personName) {
  var i;
  var x = document.getElementsByClassName("person");
  for (i = 0; i < x.length; i++) {
    x[i].style.display = "none";
  }
  x = document.getElementsByClassName("test");
  for (i = 0; i < x.length; i++) {
    x[i].className = x[i].className.replace(" pybot-light-grey", "");
  }
  document.getElementById(personName).style.display = "block";
  event.currentTarget.className += " pybot-light-grey";
}
</script>

<script>
var openTab = document.getElementById("firstTab");
openTab.click();
</script>
 <script src="/assets/js/rainbow.js"></script>
 <script src="/assets/js/language/generic.js"></script>
 <script src="/assets/js/language/python.js"></script>
</body>
</html> 
